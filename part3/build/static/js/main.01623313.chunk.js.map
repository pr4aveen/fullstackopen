{"version":3,"sources":["services/requests.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseURL","requestService","getAll","axios","get","then","res","data","create","obj","post","update","id","newObj","put","request","del","delete","Filter","handleFilterChange","onChange","PersonForm","addEntry","handleNameInputChange","handleNumberInputChange","onSubmit","type","Persons","list","deletePerson","map","person","name","number","onClick","Notification","notification","length","message","success","console","log","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setNotification","useEffect","initialPersons","notify","setTimeout","event","target","value","preventDefault","index","indexOf","window","confirm","personToModify","returnedPerson","p","catch","error","response","filter","concat","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01623313.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(res => res.data)\n}\n\nconst create = (obj) => {\n    const request = axios.post(baseURL, obj)\n    return request.then(res => res.data)\n}\n\nconst update = (id, newObj) => {\n    const request = axios.put(`${baseURL}/${id}`, newObj)\n    return request.then(request => request.data)\n}\n\nconst del = (id) => {\n    return axios.delete(`${baseURL}/${id}`)\n}\n\nconst requestService = { getAll, create, update, del }\n\nexport default requestService","import React from 'react'\n\nconst Filter = ({handleFilterChange}) => {\n    return (<div>\n        filter shown with <input onChange={handleFilterChange} />\n    </div>)\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addEntry, handleNameInputChange, handleNumberInputChange}) => {\n    return (<form onSubmit={addEntry}>\n    <div>\n      name: <input onChange={handleNameInputChange} />\n    </div>\n    <div>\n      number: <input onChange={handleNumberInputChange} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({list, deletePerson}) => {\n    return (<div> {list.map(person => \n        <p key={person.name}>\n            {person.name} {person.number} <button onClick={() => deletePerson(person)}>delete</button>\n        </p>)}\n    </div>)\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({notification}) => {\n\n    if (notification.length === 0) {\n        return null\n    }\n\n    const message = notification[0]\n    const success = notification[1]\n    console.log(success)\n    console.log(success ? 'success' : 'error')\n    return (\n        <div className={success ? 'success' : 'error'} >\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport requestService from './services/requests'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification , setNotification ] = useState([])\n\n  useEffect(() => {\n    requestService\n    .getAll()\n    .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameInputChange = (event) => setNewName(event.target.value)\n\n  const handleNumberInputChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  const notify = (message, success) => {\n    setNotification([message, success])\n    setTimeout(() => setNotification([]), 5000)\n  }\n\n  const addEntry = (event) => {\n    event.preventDefault()\n    const index = persons.map(person => person.name).indexOf(newName)\n    if (index !== -1 && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      const personToModify = persons[index]\n      requestService\n      .update(personToModify.id, {...personToModify, number:newNumber})\n      .then(returnedPerson => setPersons(persons.map(p => p.id === personToModify.id ? returnedPerson : p)))\n      .catch(error => {\n        console.log('err', error)\n        notify(error.response.data.error, false)\n        setPersons(persons.filter(p => p.id !== personToModify.id))\n      })\n    } else {\n      requestService\n      .create({name: newName, number: newNumber})\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        notify(`Added ${returnedPerson.name}`, true)\n      }).catch(error => {\n        notify(error.response.data.error, false)\n      })\n    }\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      requestService\n      .del(person.id)\n      .then(setPersons(persons.filter(p => p.id !== person.id)))\n    }\n  }\n\n  const filterPersons = () => newFilter === \"\"\n    ? persons\n    : [...persons].filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter handleFilterChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm handleNameInputChange={handleNameInputChange} \n                  handleNumberInputChange={handleNumberInputChange}\n                  addEntry={addEntry} />\n      <h2>Numbers</h2>\n      <Persons list={filterPersons()} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}